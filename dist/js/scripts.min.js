!function(n){function t(n,t){return Math.floor(Math.random()*(t-n+1))+n}Array.prototype.move=function(n,t){return this.splice(t,0,this.splice(n,1)[0]),this};var e,i=document.getElementById("result"),r={getRawSongData:function(){return n.ajax({async:!1,url:"https://voiceboxpdx.com/api/v1/songs?tag=Duets&by=popularity&per_page=100",success:function(n){e=n.songs}}),e},getRandom:function(){var n=0,o=t(10,25),a=setInterval(function(){var c=t(0,e.length-1),l=r.fixNames(e[c].artist),s=r.fixSongTitle(e[c].title);i.innerHTML=s+" - "+l,n++,n===o&&clearInterval(a)},100)},fixNames:function(t){for(var e=t.split(" "),i=0;i<e.length;i++){if(n.inArray("The",e)!==-1&&e.length<4){var r=n.inArray("The",e);e.move(r,0)}e[i].indexOf(",")!=-1&&e.length>4&&(e.move(i,i+1),i++)}var o=e.join(" ");return o=o.replace(/,/g,"")},fixSongTitle:function(t){var e=t.split(" "),i=n.inArray("The",e);if(i===e.length-1){var i=n.inArray("The",e);e.move(i,0)}var r=e.join(" ");return r=r.replace(/,/g,"")},log:function(n){console.log(n)},init:function(){this.getRawSongData()}};r.init(),n("#click").on("click",function(){r.getRandom()})}(jQuery);